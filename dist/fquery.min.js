(function(){"use strict";function t(t,e){return _.isFunction(t)?t(e):t}function e(t){return t.status>=200&&t.status<400}function n(t,n,r){return _.tap(new XMLHttpRequest,function(o){o.open(t.toUpperCase(),n,!0),o.onreadystatechange=r.then?function(){4===o.readyState&&r.then(e(o),o.responseText,o)}:function(){if(4===o.readyState){var t=e(o);t&&r.success?r.success(o.responseText,o):r.error&&r.error(o.statusText,o)}},o.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),_.forEach(r.header||{},function(t,e){o.setRequestHeader(e,t)}),o.send(r.data||"")})}function r(t,e){return function(n){return t(n,e)}}var o=window||this,u=window.document,i={},a={},c={},f=_.curry,s=u.createElement("div");c.ajax=_.curry(n),c.get=c.ajax("get"),c.post=c.ajax("post"),c.put=c.ajax("put"),c.patch=c.ajax("patch"),c.delete=c.ajax("delete"),c.head=c.ajax("head"),c.options=c.ajax("options"),i.getAttr=function(t,e){return(e.getAttribute(t)||"").trim()},i.setAttr=function(e,n,r){return r.setAttribute(e,t(n,r)),r},i.removeAttr=function(t,e){return e.removeAttribute(t),e},_.forEach(["add","remove","toggle"],function(t){i[t+"Class"]=function(e,n){return _.forEach(e,function(e){n.classList[t](e)}),n}}),i.hasClass=function(t,e){return _.all(t,function(t){return e.classList.contains(t)})},i.getClass=function(t){return _.toArray(t.classList)},i.getStyle=function(t,e){return getComputedStyle(e)[t]},i.setStyle=function(e,n,r){return r.style[e]=t(n,r),r},i.getData=function(t,e){return i.getAttr("data-"+t,e)},i.setData=function(e,n,r){return i.setAttr("data-"+e,t(n,r),r)},i.removeData=function(t,e){return i.removeAttr("data-"+t,e)},i.watch=function(t,e,n){return e=r(e,n),n.addEventListener(t,e),function(){return n.removeEventListener(t,e)}},i.trigger=function(t,e){var n=u.createEvent("HTMLEvents");return n.initEvent(t,!0,!1),e.dispatchEvent(n),e},i.getInnerHTML=function(t){return t.innerHTML.trim()},i.setInnerHTML=function(e,n){return n.innerHTML=t(e,n),n},i.getOuterHTML=function(t){return t.outerHTML},i.setOuterHTML=function(e,n){return n.outerHTML=t(e,n),n},i.getValue=function(t){return i.getProp("value",t)},i.setValue=function(t,e){return i.setProp("value",t,e)},i.offset=function(t){var e=t.getBoundingClientRect();return{top:e.top+u.body.scrollTop,left:e.left+u.body.scrollLeft}},i.position=function(t){return{top:t.offsetTop,left:t.offsetLeft}},i.outerHeight=function(t){return t.offsetHeight},i.outerWidth=function(t){return t.offsetWidth},i.remove=function(t){return t.parentNode.removeChild(t),t},i.clone=function(t){return t.cloneNode(!0)},i.node=function(t,e){var n=u.createElement(t);return n.appendChild(_.isString(e)?u.createTextNode(e):e),n},i.fragment=function(){return u.createDocumentFragment()},i.insertAfter=function(t,e){return e.parentNode.insertBefore(t,e.nextSibling),e},i.insertBefore=function(t,e){return e.parentNode.insertBefore(t,e),e},i.append=function(e,n){return n.appendChild(t(e,n)),n},i.prepend=function(t,e){return e.childNodes[1]?e.insertBefore(t,e.childNodes[1]):i.append(t,e),e},i.equal=function(t,e){return t===e};var l=_.find(["matches","matchesSelector","msMatchesSelector","mozMatchesSelector","webkitMatchesSelector","oMatchesSelector"],function(t){return null!=s[t]});i.matches=function(t,e){return e[l](t)},i.has=function(t,e){return _.any(a.q(t,e))},i.attrEqual=function(e,n,r){return i.getAttr(e,r)===t(n,r)},i.attrMatch=function(t,e,n){return e.test(i.getAttr(t,n).toString())},i.propEqual=function(e,n,r){return i.getProp(e,r)===t(n,r)},i.propMatch=function(t,e,n){return e.test(i.getProp(t,n).toString())},i.dataEqual=function(e,n,r){return i.getData(e,r)===t(n,r)},i.dataMatch=function(t,e,n){return e.test(i.getData(t,n).toString())},i.textEqual=function(e,n){return i.getText(n)===t(e,n)},i.textMatch=function(t,e){return t.test(i.getText(e))},i.tagMatch=function(e,n){return t(e,n)===n.tagName},i.q=function(t,e){return t instanceof Element||t instanceof Text?t:(e||u).querySelector(t)},i.getProp=function(t,e){return(e[t]||"").trim()},i.setProp=function(e,n,r){return r[e]=t(n,r),r},i.removeProp=function(t,e){return delete e[t],e},i.getText=function(t){return(t.textContent||"").trim()},i.setText=function(e,n){return n.textContent=t(e,n),n},i.siblings=function(t){for(var e=[],n=t.parentNode.firstChild;n;n=n.nextSibling)1===n.nodeType&&n!==t&&e.push(n);return e},i.children=function(t){return i.siblings(t.firstChild)},i.parent=function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},a.q=function(t,e){return _.isArray(t)?t:_.toArray(t instanceof HTMLCollection||t instanceof NodeList?t:(e||u).querySelectorAll(t))},_.forEach(i,function(t,e){"q"!==e&&(a[e]=f(function(){var e=_.initial(arguments),n=_.last(arguments);return _.reduce(n,function(n,r){return n.concat(t.apply(null,e.concat(r)))},[])},t.length),i[e]=f(t,t.length))}),"function"==typeof define&&"object"==typeof define.amd&&define.amd?(o.n=i,o.c=a,o.u=c,define(function(){return i}),define(function(){return a}),define(function(){return c})):(o.n=i,o.c=a,o.u=c)}).call(this);