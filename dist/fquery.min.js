(function(){"use strict";function t(t,e){return _.isFunction(t)?t(e):t}function e(t){return t.status>=200&&t.status<400}function n(t,e){return function(n){return t(n,e)}}var r=window||this,o=window.document,u={},i={},a={},c=_.curry,f=o.createElement("div");a.ajax=c(function(t,n,r){return _.tap(new XMLHttpRequest,function(o){o.open(t.toUpperCase(),_.isString(r)?r:r.url,!0),o.onreadystatechange=function(){4===o.readyState&&n(!e(o),o.responseText,o)},o.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),_.forEach(r.header||{},function(t,e){o.setRequestHeader(e,t)}),o.send(r.data||"")})}),a.get=a.ajax("get"),a.post=a.ajax("post"),a.put=a.ajax("put"),a.patch=a.ajax("patch"),a.delete=a.ajax("delete"),a.head=a.ajax("head"),a.options=a.ajax("options"),u.getAttr=function(t,e){return(e.getAttribute(t)||"").trim()},u.setAttr=function(e,n,r){return r.setAttribute(e,t(n,r)),r},u.removeAttr=function(t,e){return e.removeAttribute(t),e},_.forEach(["add","remove","toggle"],function(t){u[t+"Class"]=function(e,n){return _.forEach(e,function(e){n.classList[t](e)}),n}}),u.hasClass=function(t,e){return _.all(t,function(t){return e.classList.contains(t)})},u.getClass=function(t){return _.toArray(t.classList)},u.getStyle=function(t,e){return getComputedStyle(e)[t]},u.setStyle=function(e,n,r){return r.style[e]=t(n,r),r},u.getData=function(t,e){return u.getAttr("data-"+t,e)},u.setData=function(e,n,r){return u.setAttr("data-"+e,t(n,r),r)},u.removeData=function(t,e){return u.removeAttr("data-"+t,e)},u.watch=function(t,e,r){return e=n(e,r),r.addEventListener(t,e),function(){return r.removeEventListener(t,e)}},u.trigger=function(t,e){var n=o.createEvent("HTMLEvents");return n.initEvent(t,!0,!1),e.dispatchEvent(n),e},u.getInnerHTML=function(t){return t.innerHTML.trim()},u.setInnerHTML=function(e,n){return n.innerHTML=t(e,n),n},u.getOuterHTML=function(t){return t.outerHTML},u.setOuterHTML=function(e,n){return n.outerHTML=t(e,n),n},u.getValue=function(t){return u.getProp("value",t)},u.setValue=function(t,e){return u.setProp("value",t,e)},u.offset=function(t){var e=t.getBoundingClientRect();return{top:e.top+o.body.scrollTop,left:e.left+o.body.scrollLeft}},u.position=function(t){return{top:t.offsetTop,left:t.offsetLeft}},u.outerHeight=function(t){return t.offsetHeight},u.outerWidth=function(t){return t.offsetWidth},u.remove=function(t){return t.parentNode.removeChild(t),t},u.clone=function(t){return t.cloneNode(!0)},u.node=function(t,e){var n=o.createElement(t);return n.appendChild(_.isString(e)?o.createTextNode(e):e),n},u.fragment=function(){return o.createDocumentFragment()},u.insertAfter=function(t,e){return e.parentNode.insertBefore(t,e.nextSibling),e},u.insertBefore=function(t,e){return e.parentNode.insertBefore(t,e),e},u.append=function(e,n){return n.appendChild(t(e,n)),n},u.prepend=function(t,e){return e.childNodes[1]?e.insertBefore(t,e.childNodes[1]):u.append(t,e),e},u.equal=function(t,e){return t===e};var s=_.find(["matches","matchesSelector","msMatchesSelector","mozMatchesSelector","webkitMatchesSelector","oMatchesSelector"],function(t){return null!=f[t]});u.matches=function(t,e){return e[s](t)},u.not=function(t,e){return!e[s](t)},u.has=function(t,e){return _.any(i.q(t,e))},u.attrEqual=function(e,n,r){return u.getAttr(e,r)===t(n,r)},u.attrMatch=function(t,e,n){return e.test(u.getAttr(t,n).toString())},u.propEqual=function(e,n,r){return u.getProp(e,r)===t(n,r)},u.propMatch=function(t,e,n){return e.test(u.getProp(t,n).toString())},u.dataEqual=function(e,n,r){return u.getData(e,r)===t(n,r)},u.dataMatch=function(t,e,n){return e.test(u.getData(t,n).toString())},u.textEqual=function(e,n){return u.getText(n)===t(e,n)},u.textMatch=function(t,e){return t.test(u.getText(e))},u.tagMatch=function(e,n){return t(e,n)===n.tagName},u.q=function(t,e){return t instanceof Element||t instanceof Text?t:(e||o).querySelector(t)},u.getProp=function(t,e){return(e[t]||"").trim()},u.setProp=function(e,n,r){return r[e]=t(n,r),r},u.removeProp=function(t,e){return delete e[t],e},u.getText=function(t){return(t.textContent||"").trim()},u.setText=function(e,n){return n.textContent=t(e,n),n},u.siblings=function(t){for(var e=[],n=t.parentNode.firstChild;n;n=n.nextSibling)1===n.nodeType&&n!==t&&e.push(n);return e},u.children=function(t){return u.siblings(t.firstChild)},u.parent=function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},i.q=function(t,e){return _.isArray(t)?t:_.toArray(t instanceof HTMLCollection||t instanceof NodeList?t:(e||o).querySelectorAll(t))},_.forEach(u,function(t,e){"q"!==e&&(i[e]=c(function(){var e=_.initial(arguments),n=_.last(arguments);return _.reduce(n,function(n,r){return n.concat(t.apply(null,e.concat(r)))},[])},t.length),u[e]=c(t,t.length))}),"function"==typeof define&&"object"==typeof define.amd&&define.amd?(r.n=u,r.c=i,r.u=a,define(function(){return u}),define(function(){return i}),define(function(){return a})):(r.n=u,r.c=i,r.u=a)}).call(this);